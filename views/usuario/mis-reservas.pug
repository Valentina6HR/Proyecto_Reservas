extends ../layout/index

block contenido
    .max-w-6xl.mx-auto.mt-8.mb-16
        //- Encabezado
        .text-center.mb-12(data-aos="fade-down")
            h1(class="text-4xl.md_text-5xl.font-semibold.text-purple-600.mb-4")(style="font-family: 'Playfair Display', serif;") 
                | Mis Reservas
            p.text-gray-600.text-lg.font-light Gestiona todas tus reservaciones

        //- Contenedor de reservas
        .bg-white.rounded-3xl.shadow-2xl.p-8.border-4.border-purple-200(data-aos="fade-up")
            
            if Reservas && Reservas.length > 0
                .space-y-6
                    each Reserva in Reservas
                        .bg-gradient-to-br.from-purple-50.to-pink-50.rounded-2xl.p-6.border-2.border-purple-200(class="hover:shadow-xl hover:scale-102").transition-all.duration-300
                            .flex.flex-col.md_flex-row.justify-between.items-start.md_items-center.gap-4
                                
                                //- Informaci칩n de la Reserva
                                .flex-1
                                    .flex.items-center.gap-3.mb-3
                                        span.text-3xl 游늰
                                        div
                                            h3.text-xl.font-semibold.text-purple-600 Reserva #{Reserva.id_reserva}
                                            p.text-sm.text-gray-600.font-light= new Date(Reserva.fecha_reserva).toLocaleDateString('es-ES', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })
                                    
                                    .grid.grid-cols-1.md_grid-cols-2.gap-3.text-sm.text-gray-700
                                        div
                                            span.font-medium.text-purple-600 Hora: 
                                            span.font-light= Reserva.hora_inicio
                                        div
                                            span.font-medium.text-purple-600 Personas: 
                                            span.font-light= Reserva.numero_personas
                                        if Reserva.Mesa
                                            div
                                                span.font-medium.text-purple-600 Zona: 
                                                span.font-light.capitalize= Reserva.Mesa.zona
                                            div
                                                span.font-medium.text-purple-600 Mesa: 
                                                span.font-light= Reserva.Mesa.nombre
                                
                                //- Estado y acciones
                                .flex.flex-col.items-end.gap-3
                                    //- Badge de estado
                                    - var estadoClases = { 'pendiente': 'bg-yellow-100 text-yellow-700 border-yellow-300', 'confirmada': 'bg-green-100 text-green-700 border-green-300', 'en_curso': 'bg-blue-100 text-blue-700 border-blue-300', 'completada': 'bg-purple-100 text-purple-700 border-purple-300', 'cancelada': 'bg-red-100 text-red-700 border-red-300', 'no_show': 'bg-gray-100 text-gray-700 border-gray-300' }
                                    span(class=`px-4 py-2 rounded-full text-sm font-medium border-2 ${estadoClases[Reserva.estado] || 'bg-gray-100 text-gray-700'}`)= Reserva.estado.replace('_', ' ').toUpperCase()
                                    
                                    //- Bot칩n de cancelar (solo si est치 pendiente o confirmada)
                                    if Reserva.estado === 'pendiente' || Reserva.estado === 'confirmada'
                                        form(method="POST" action=`/mis-reservas/${Reserva.id_reserva}/cancelar` onsubmit="return confirm('쮼st치s segura de cancelar esta reserva?')")
                                            input(type="hidden" name="_csrf" value=csrfToken)
                                            button(class="bg-red-400 text-white px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 transform hover:bg-red-500 hover:shadow-lg hover:scale-105")(type="submit") 
                                                | Cancelar Reserva
            else
                .text-center.py-16
                    span.text-8xl.mb-6.block 游닔
                    h3.text-2xl.font-semibold.text-purple-600.mb-3 No tienes reservas a칰n
                    p.text-gray-600.mb-8.font-light Haz tu primera reservaci칩n y aparecer치 aqu칤
                    a(class="inline-block bg-gradient-to-r from-purple-500 to-pink-500 text-white font-semibold px-8 py-3 rounded-full transition-all duration-300 transform hover:shadow-xl hover:scale-110")(href="/reservas") 
                        | Reservar Mesa 
