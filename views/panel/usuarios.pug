extends ../layout/admin

block contenido
    .mb-8
        h1(class="text-4xl.font-semibold.text-purple-600.mb-2")(style="font-family: 'Playfair Display', serif;") 
            | GestiÃ³n de Usuarios
        p.text-gray-600.font-light Administra las cuentas del sistema

    .bg-white.rounded-2xl.shadow-lg.p-6.border-2.border-purple-100
        if cuentas && cuentas.length > 0
            .overflow-x-auto
                table.w-full
                    thead.bg-gradient-to-r.from-purple-100.to-pink-100
                        tr
                            th.px-4.py-3.text-left.text-sm.font-semibold.text-purple-700 ID
                            th.px-4.py-3.text-left.text-sm.font-semibold.text-purple-700 Nombre
                            th.px-4.py-3.text-left.text-sm.font-semibold.text-purple-700 Email
                            th.px-4.py-3.text-left.text-sm.font-semibold.text-purple-700 Rol
                            th.px-4.py-3.text-left.text-sm.font-semibold.text-purple-700 Estado
                            th.px-4.py-3.text-left.text-sm.font-semibold.text-purple-700 Acciones
                    tbody
                        each cuenta in cuentas
                            tr(class="border-b border-purple-100 transition-colors hover:bg-purple-50").transition-colors
                                td.px-4.py-3.text-sm= cuenta.id
                                td.px-4.py-3.text-sm= cuenta.nombre
                                td.px-4.py-3.text-sm= cuenta.email
                                td.px-4.py-3
                                    span.px-2.py-1.rounded-full.text-xs.font-medium.bg-purple-100.text-purple-700= cuenta.rol
                                td.px-4.py-3
                                    span(class=cuenta.estado === 'activo' ? 'text-green-600' : 'text-red-600')= cuenta.estado
                                td.px-4.py-3
                                    form.inline(method="POST" action=`/gestion/cuentas/${cuenta.id}/rol`)
                                        input(type="hidden" name="_csrf" value=csrfToken)
                                        select.text-xs.px-2.py-1.rounded.border.border-purple-300(name="rol" onchange="this.form.submit()")
                                            option(value="cliente" selected=cuenta.rol==='cliente') Cliente
                                            option(value="mesero" selected=cuenta.rol==='mesero') Mesero
                                            option(value="recepcionista" selected=cuenta.rol==='recepcionista') Recepcionista
                                            option(value="admin" selected=cuenta.rol==='admin') Admin
        else
            p.text-gray-500.text-center.py-12 No hay usuarios registrados
