extends ../layout/admin

block contenido
    .max-w-2xl.mx-auto
        .mb-8
            h1(class="text-4xl.font-semibold.text-purple-600.mb-2")(style="font-family: 'Playfair Display', serif;") 
                | Reprogramar Reserva ##{reserva.id_reserva}
            p.text-gray-600.font-light Modifica la fecha y hora de la reserva actual
        
        //- Mostrar errores si existen
        if errores
            .mb-8
                each error in errores
                    .bg-red-50.border-l-4.border-red-400.text-red-700.p-4.rounded-lg.mb-3.shadow-sm
                        p.text-sm.font-medium= error.msg

        //- Tarjeta con detalles actuales
        .bg-gradient-to-r.from-purple-50.to-pink-50.p-6.rounded-xl.mb-8.border.border-purple-200
            h3.text-lg.font-medium.text-purple-700.mb-2 Detalles Actuales
            p.text-sm.text-gray-700
                strong Cliente: 
                | #{reserva.nombre_cliente}
            p.text-sm.text-gray-700
                strong Fecha Actual: 
                | #{new Date(reserva.fecha_reserva).toLocaleDateString()}
            p.text-sm.text-gray-700
                strong Hora Actual: 
                | #{reserva.hora_inicio}

        .bg-white.rounded-2xl.shadow-lg.p-8.border-2.border-purple-100
            form(method="POST" action=`/gestion/reservas/${reserva.id_reserva}/reprogramar` class="space-y-6")
                input(type="hidden" name="_csrf" value=csrfToken)

                //- Fecha Nueva
                .relative
                    label.block.text-sm.font-medium.text-purple-700.mb-2(for="fecha_reserva") 
                        | Nueva Fecha
                    input#fecha_reserva.w-full.px-4.py-3.border-2.border-purple-200.rounded-xl(class="focus:outline-none focus:ring-2 focus:ring-purple-400")(
                        type="date" 
                        name="fecha_reserva" 
                        value=reserva.fecha_reserva
                        required
                    )

                //- Hora Nueva
                .relative
                    label.block.text-sm.font-medium.text-purple-700.mb-2(for="hora_inicio") 
                        | Nueva Hora
                    input#hora_inicio.w-full.px-4.py-3.border-2.border-purple-200.rounded-xl(class="focus:outline-none focus:ring-2 focus:ring-purple-400")(
                        type="time" 
                        name="hora_inicio" 
                        value=reserva.hora_inicio
                        required
                    )

                //- Botones
                .flex.gap-4.pt-4
                    button(class="flex-1 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-semibold py-3 rounded-xl transition-all duration-300 hover:shadow-xl")(type="submit") 
                        | Guardar Cambios
                    a(class="flex-1 bg-gray-300 text-gray-700 font-semibold py-3 rounded-xl text-center transition-colors hover:bg-gray-400")(href="/gestion/reservas") 
                        | Cancelar
